{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");var _interopRequireWildcard=require(\"@babel/runtime/helpers/interopRequireWildcard\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));var _slicedToArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));var _objectWithoutProperties2=_interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));var _react=_interopRequireWildcard(require(\"react\"));var _Text=_interopRequireDefault(require(\"../../primitives/Text\"));var _useThemeProps=require(\"../../../hooks/useThemeProps\");var _Pressable=require(\"../../primitives/Pressable\");var _MenuContext=require(\"./MenuContext\");var _useMenu=require(\"./useMenu\");var _utils=require(\"../../../utils\");var _useHasResponsiveProps=require(\"../../../hooks/useHasResponsiveProps\");var _this=this,_jsxFileName=\"/Users/adityajamuar/Sites/projects/nativebase/NativeBase/src/components/composites/Menu/MenuItem.tsx\";var MenuItem=function MenuItem(_ref,ref){var children=_ref.children,isDisabled=_ref.isDisabled,_onPress=_ref.onPress,style=_ref.style,textValue=_ref.textValue,props=(0,_objectWithoutProperties2.default)(_ref,[\"children\",\"isDisabled\",\"onPress\",\"style\",\"textValue\"]);var _React$useContext=_react.default.useContext(_MenuContext.MenuContext),closeOnSelect=_React$useContext.closeOnSelect,onClose=_React$useContext.onClose;var menuItemRef=_react.default.useRef(null);var mergedRef=(0,_utils.mergeRefs)([menuItemRef,ref]);var _usePropsResolution=(0,_useThemeProps.usePropsResolution)('MenuItem',props,{isDisabled:isDisabled}),_text=_usePropsResolution._text,resolvedProps=(0,_objectWithoutProperties2.default)(_usePropsResolution,[\"_text\"]);var _React$useState=_react.default.useState(''),_React$useState2=(0,_slicedToArray2.default)(_React$useState,2),textContent=_React$useState2[0],setTextContent=_React$useState2[1];_react.default.useEffect(function(){var menuItem=menuItemRef.current;if(menuItem){var _menuItem$textContent;setTextContent(((_menuItem$textContent=menuItem.textContent)!=null?_menuItem$textContent:'').trim());}},[children]);var menuItemProps=(0,_useMenu.useMenuItem)({textValue:textValue!=null?textValue:textContent,ref:menuItemRef});if((0,_useHasResponsiveProps.useHasResponsiveProps)(props)){return null;}return _react.default.createElement(_Pressable.Pressable,(0,_extends2.default)({},menuItemProps,resolvedProps,{ref:mergedRef,style:style,disabled:isDisabled,accessibilityState:{disabled:isDisabled},onPress:function onPress(e){if(!isDisabled){_onPress&&_onPress(e);if(closeOnSelect){onClose&&onClose();}}},__self:_this,__source:{fileName:_jsxFileName,lineNumber:39,columnNumber:5}}),_react.default.createElement(_react.default.Fragment,null,_react.default.Children.map(children,function(child,index){if(typeof child==='string'||typeof child==='number'){return _react.default.createElement(_Text.default,(0,_extends2.default)({},_text,{key:\"menu-item-\"+index,__self:_this,__source:{fileName:_jsxFileName,lineNumber:62,columnNumber:15}}),child);}else{return child;}})));};var _default=(0,_react.memo)((0,_react.forwardRef)(MenuItem));exports.default=_default;","map":{"version":3,"sources":["MenuItem.tsx"],"names":["MenuItem","children","isDisabled","onPress","style","textValue","props","closeOnSelect","onClose","React","MenuContext","menuItemRef","mergedRef","_text","resolvedProps","textContent","setTextContent","menuItem","menuItemProps","ref","disabled"],"mappings":"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","sourcesContent":["import React, { forwardRef, memo } from 'react';\nimport Text from '../../primitives/Text';\nimport { usePropsResolution } from '../../../hooks/useThemeProps';\nimport { Pressable } from '../../primitives/Pressable';\nimport type { IMenuItemProps } from './types';\nimport { MenuContext } from './MenuContext';\nimport { useMenuItem } from './useMenu';\nimport { mergeRefs } from '../../../utils';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\n\nconst MenuItem = (\n  { children, isDisabled, onPress, style, textValue, ...props }: IMenuItemProps,\n  ref: any\n) => {\n  const { closeOnSelect, onClose } = React.useContext(MenuContext);\n  const menuItemRef = React.useRef<any>(null);\n  const mergedRef = mergeRefs([menuItemRef, ref]);\n  const { _text, ...resolvedProps } = usePropsResolution('MenuItem', props, {\n    isDisabled,\n  });\n  const [textContent, setTextContent] = React.useState('');\n  React.useEffect(() => {\n    const menuItem = menuItemRef.current;\n    if (menuItem) {\n      setTextContent((menuItem.textContent ?? '').trim());\n    }\n  }, [children]);\n\n  const menuItemProps = useMenuItem({\n    textValue: textValue ?? textContent,\n    ref: menuItemRef,\n  });\n\n  //TODO: refactor for responsive prop\n  if (useHasResponsiveProps(props)) {\n    return null;\n  }\n  return (\n    <Pressable\n      {...menuItemProps}\n      {...resolvedProps}\n      ref={mergedRef}\n      style={style}\n      disabled={isDisabled}\n      // TouchableHighlight doesn't announce disabled, even if disabled prop is set\n      accessibilityState={{\n        disabled: isDisabled,\n      }}\n      onPress={(e: any) => {\n        if (!isDisabled) {\n          onPress && onPress(e);\n          if (closeOnSelect) {\n            onClose && onClose();\n          }\n        }\n      }}\n    >\n      <>\n        {React.Children.map(children, (child, index: any) => {\n          if (typeof child === 'string' || typeof child === 'number') {\n            return (\n              <Text {..._text} key={`menu-item-${index}`}>\n                {child}\n              </Text>\n            );\n          } else {\n            return child;\n          }\n        })}\n      </>\n    </Pressable>\n  );\n};\n\nexport default memo(forwardRef(MenuItem));\n"]},"metadata":{},"sourceType":"script"}