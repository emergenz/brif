{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");var _interopRequireWildcard=require(\"@babel/runtime/helpers/interopRequireWildcard\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));var _objectWithoutProperties2=_interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));var _react=_interopRequireWildcard(require(\"react\"));var _Box=_interopRequireDefault(require(\"../../primitives/Box\"));var _Stack=require(\"../../primitives/Stack\");var _useThemeProps=require(\"../../../hooks/useThemeProps\");var _useFormControl=require(\"./useFormControl\");var _useHasResponsiveProps=require(\"../../../hooks/useHasResponsiveProps\");var _utils=require(\"../../../utils\");var _this=this,_jsxFileName=\"/Users/adityajamuar/Sites/projects/nativebase/NativeBase/src/components/composites/FormControl/FormControlErrorMessage.tsx\";var FormControlErrorMessage=function FormControlErrorMessage(props,ref){var formControlContext=(0,_useFormControl.useFormControlContext)();var combinedProps=(0,_utils.combineContextAndProps)(formControlContext,props);var _usePropsResolution=(0,_useThemeProps.usePropsResolution)('FormControlErrorMessage',combinedProps,{isDisabled:combinedProps.isDisabled,isReadOnly:combinedProps.isReadOnly,isInvalid:combinedProps.isInvalid}),leftIcon=_usePropsResolution.leftIcon,rightIcon=_usePropsResolution.rightIcon,children=_usePropsResolution.children,_text=_usePropsResolution._text,_stack=_usePropsResolution._stack,resolvedProps=(0,_objectWithoutProperties2.default)(_usePropsResolution,[\"leftIcon\",\"rightIcon\",\"children\",\"_text\",\"_stack\"]);var startIcon=resolvedProps.startIcon,endIcon=resolvedProps.endIcon;if(rightIcon){endIcon=rightIcon;}if(leftIcon){startIcon=leftIcon;}if(endIcon&&_react.default.isValidElement(endIcon)){endIcon=_react.default.Children.map(endIcon,function(child,index){return _react.default.cloneElement(child,(0,_extends2.default)({key:\"button-end-icon-\"+index},_text,child.props));});}if(startIcon&&_react.default.isValidElement(startIcon)){startIcon=_react.default.Children.map(startIcon,function(child,index){return _react.default.cloneElement(child,(0,_extends2.default)({key:\"button-start-icon-\"+index},_text,child.props));});}_react.default.useEffect(function(){resolvedProps==null?void 0:resolvedProps.setHasFeedbackText(true);return function(){resolvedProps==null?void 0:resolvedProps.setHasFeedbackText(false);};});if((0,_useHasResponsiveProps.useHasResponsiveProps)(props)){return null;}return resolvedProps!=null&&resolvedProps.isInvalid?_react.default.createElement(_Box.default,(0,_extends2.default)({nativeID:resolvedProps==null?void 0:resolvedProps.helpTextId},resolvedProps,{ref:ref,__self:_this,__source:{fileName:_jsxFileName,lineNumber:73,columnNumber:5}}),_react.default.createElement(_Stack.HStack,(0,_extends2.default)({},_stack,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:74,columnNumber:7}}),startIcon,_react.default.createElement(_Box.default,{_text:_text,__self:_this,__source:{fileName:_jsxFileName,lineNumber:76,columnNumber:9}},children),endIcon)):null;};var _default=(0,_react.memo)((0,_react.forwardRef)(FormControlErrorMessage));exports.default=_default;","map":{"version":3,"sources":["FormControlErrorMessage.tsx"],"names":["FormControlErrorMessage","formControlContext","combinedProps","leftIcon","rightIcon","children","_text","_stack","resolvedProps","isDisabled","isReadOnly","isInvalid","startIcon","endIcon","React","key","child"],"mappings":"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","sourcesContent":["import React, { memo, forwardRef } from 'react';\nimport Box from '../../primitives/Box';\nimport { HStack } from '../../primitives/Stack';\nimport { usePropsResolution } from '../../../hooks/useThemeProps';\nimport { useFormControlContext } from './useFormControl';\nimport type { IFormControlErrorMessageProps } from './types';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\nimport { combineContextAndProps } from '../../../utils';\n\nconst FormControlErrorMessage = (\n  props: IFormControlErrorMessageProps,\n  ref: any\n) => {\n  const formControlContext = useFormControlContext();\n  const combinedProps = combineContextAndProps(formControlContext, props);\n  const {\n    leftIcon,\n    rightIcon,\n    children,\n    _text,\n    _stack,\n    ...resolvedProps\n  } = usePropsResolution('FormControlErrorMessage', combinedProps, {\n    isDisabled: combinedProps.isDisabled,\n    isReadOnly: combinedProps.isReadOnly,\n    isInvalid: combinedProps.isInvalid,\n    // isRequired: combinedProps.isRequired,\n  });\n  let { startIcon, endIcon } = resolvedProps;\n\n  if (rightIcon) {\n    endIcon = rightIcon;\n  }\n  if (leftIcon) {\n    startIcon = leftIcon;\n  }\n  if (endIcon && React.isValidElement(endIcon)) {\n    endIcon = React.Children.map(\n      endIcon,\n      (child: JSX.Element, index: number) => {\n        return React.cloneElement(child, {\n          key: `button-end-icon-${index}`,\n          ..._text,\n          ...child.props,\n        });\n      }\n    );\n  }\n  if (startIcon && React.isValidElement(startIcon)) {\n    startIcon = React.Children.map(\n      startIcon,\n      (child: JSX.Element, index: number) => {\n        return React.cloneElement(child, {\n          key: `button-start-icon-${index}`,\n          ..._text,\n          ...child.props,\n        });\n      }\n    );\n  }\n\n  React.useEffect(() => {\n    resolvedProps?.setHasFeedbackText(true);\n    return () => {\n      resolvedProps?.setHasFeedbackText(false);\n    };\n  });\n  //TODO: refactor for responsive prop\n  if (useHasResponsiveProps(props)) {\n    return null;\n  }\n  return resolvedProps?.isInvalid ? (\n    <Box nativeID={resolvedProps?.helpTextId} {...resolvedProps} ref={ref}>\n      <HStack {..._stack}>\n        {startIcon}\n        <Box _text={_text}>{children}</Box>\n        {endIcon}\n      </HStack>\n    </Box>\n  ) : null;\n};\n\nexport default memo(forwardRef(FormControlErrorMessage));\n"]},"metadata":{},"sourceType":"script"}