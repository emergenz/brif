{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");var _interopRequireWildcard=require(\"@babel/runtime/helpers/interopRequireWildcard\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));var _objectWithoutProperties2=_interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));var _react=_interopRequireWildcard(require(\"react\"));var _toggle=require(\"@react-stately/toggle\");var _reactNative=require(\"react-native-web/dist/index\");var _lodash=_interopRequireDefault(require(\"lodash.isnil\"));var _useThemeProps=require(\"../../../hooks/useThemeProps\");var _hooks=require(\"../../../hooks\");var _styled=require(\"../../../utils/styled\");var _utils=require(\"../../../utils\");var _interactions=require(\"@react-native-aria/interactions\");var _useHasResponsiveProps=require(\"../../../hooks/useHasResponsiveProps\");var _this=this,_jsxFileName=\"/Users/adityajamuar/Sites/projects/nativebase/NativeBase/src/components/primitives/Switch/index.tsx\";var StyledNBSwitch=(0,_styled.makeStyledComponent)(_reactNative.Switch);var Switch=function Switch(_ref2,ref){var style=_ref2.style,onToggle=_ref2.onToggle,isDisabled=_ref2.isDisabled,isInvalid=_ref2.isInvalid,isChecked=_ref2.isChecked,defaultIsChecked=_ref2.defaultIsChecked,accessibilityLabel=_ref2.accessibilityLabel,accessibilityHint=_ref2.accessibilityHint,props=(0,_objectWithoutProperties2.default)(_ref2,[\"style\",\"onToggle\",\"isDisabled\",\"isInvalid\",\"isChecked\",\"defaultIsChecked\",\"accessibilityLabel\",\"accessibilityHint\"]);var state=(0,_toggle.useToggleState)({defaultSelected:!(0,_lodash.default)(defaultIsChecked)?defaultIsChecked:false});var borderColorInvalid=(0,_hooks.useToken)('colors','danger.600');var checked=!(0,_lodash.default)(isChecked)?isChecked:state.isSelected;var inValidPropFactors={borderWidth:1,borderRadius:16,borderColor:borderColorInvalid};var _ref=_react.default.useRef(null);var _useHover=(0,_interactions.useHover)({},_ref),isHovered=_useHover.isHovered;var _usePropsResolution=(0,_useThemeProps.usePropsResolution)('Switch',props,{isHovered:isHovered,isDisabled:isDisabled,isInvalid:isInvalid,isChecked:checked}),_onTrackColor=_usePropsResolution.onTrackColor,_offTrackColor=_usePropsResolution.offTrackColor,_onThumbColor=_usePropsResolution.onThumbColor,_offThumbColor=_usePropsResolution.offThumbColor,themeStyle=_usePropsResolution.style,resolvedProps=(0,_objectWithoutProperties2.default)(_usePropsResolution,[\"onTrackColor\",\"offTrackColor\",\"onThumbColor\",\"offThumbColor\",\"style\"]);var computedStyle=_reactNative.StyleSheet.flatten([themeStyle,style,isInvalid?inValidPropFactors:{}]);var onTrackColor=(0,_hooks.useToken)('colors',_onTrackColor);var offTrackColor=(0,_hooks.useToken)('colors',_offTrackColor);var onThumbColor=(0,_hooks.useToken)('colors',_onThumbColor);var offThumbColor=(0,_hooks.useToken)('colors',_offThumbColor);if((0,_useHasResponsiveProps.useHasResponsiveProps)((0,_extends2.default)({},props,{isDisabled:isDisabled,isInvalid:isInvalid,isChecked:isChecked,defaultIsChecked:defaultIsChecked,accessibilityLabel:accessibilityLabel,accessibilityHint:accessibilityHint}))){return null;}return _react.default.createElement(StyledNBSwitch,(0,_extends2.default)({accessibilityLabel:accessibilityLabel,accessibilityHint:accessibilityHint,trackColor:{false:offTrackColor,true:onTrackColor},thumbColor:checked?onThumbColor:offThumbColor,activeThumbColor:onThumbColor,ios_backgroundColor:offTrackColor},resolvedProps,{disabled:isDisabled,onValueChange:onToggle?onToggle:state.toggle,value:checked,style:computedStyle,ref:(0,_utils.mergeRefs)([ref,_ref]),opacity:isDisabled?0.4:1,__self:_this,__source:{fileName:_jsxFileName,lineNumber:85,columnNumber:5}}));};var _default=(0,_react.memo)((0,_react.forwardRef)(Switch));exports.default=_default;","map":{"version":3,"sources":["index.tsx"],"names":["StyledNBSwitch","RNSwitch","Switch","style","onToggle","isDisabled","isInvalid","isChecked","defaultIsChecked","accessibilityLabel","accessibilityHint","props","state","defaultSelected","borderColorInvalid","checked","inValidPropFactors","borderWidth","borderRadius","borderColor","_ref","React","isHovered","_onTrackColor","_offTrackColor","_onThumbColor","_offThumbColor","themeStyle","resolvedProps","computedStyle","StyleSheet","onTrackColor","offTrackColor","onThumbColor","offThumbColor","false","true"],"mappings":"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","sourcesContent":["import React, { memo, forwardRef } from 'react';\nimport { useToggleState } from '@react-stately/toggle';\nimport { StyleSheet, ViewStyle, Switch as RNSwitch } from 'react-native';\nimport isNil from 'lodash.isnil';\nimport { usePropsResolution } from '../../../hooks/useThemeProps';\nimport { useToken } from '../../../hooks';\nimport { makeStyledComponent } from '../../../utils/styled';\nimport type { ISwitchProps } from './types';\nimport { mergeRefs } from '../../../utils';\nimport { useHover } from '@react-native-aria/interactions';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\n\nconst StyledNBSwitch = makeStyledComponent(RNSwitch);\n\n// TODO: Needs proper refactor\nconst Switch = (\n  {\n    style,\n    onToggle,\n    isDisabled,\n    isInvalid,\n    isChecked,\n    defaultIsChecked,\n    accessibilityLabel,\n    accessibilityHint,\n    ...props\n  }: ISwitchProps,\n  ref: any\n) => {\n  const state = useToggleState({\n    defaultSelected: !isNil(defaultIsChecked) ? defaultIsChecked : false,\n  });\n\n  const borderColorInvalid = useToken('colors', 'danger.600');\n  const checked = !isNil(isChecked) ? isChecked : state.isSelected;\n  const inValidPropFactors = {\n    borderWidth: 1,\n    borderRadius: 16,\n    borderColor: borderColorInvalid,\n  };\n\n  const _ref = React.useRef(null);\n  const { isHovered } = useHover({}, _ref);\n\n  const {\n    onTrackColor: _onTrackColor,\n    offTrackColor: _offTrackColor,\n    onThumbColor: _onThumbColor,\n    offThumbColor: _offThumbColor,\n    style: themeStyle,\n    ...resolvedProps\n  } = usePropsResolution('Switch', props, {\n    isHovered,\n    isDisabled,\n    isInvalid,\n    isChecked: checked,\n  });\n\n  const computedStyle: ViewStyle = StyleSheet.flatten([\n    themeStyle,\n    style,\n    isInvalid ? inValidPropFactors : {},\n  ]);\n\n  const onTrackColor = useToken('colors', _onTrackColor);\n  const offTrackColor = useToken('colors', _offTrackColor);\n  const onThumbColor = useToken('colors', _onThumbColor);\n  const offThumbColor = useToken('colors', _offThumbColor);\n\n  //TODO: refactor for responsive prop\n  if (\n    useHasResponsiveProps({\n      ...props,\n      isDisabled,\n      isInvalid,\n      isChecked,\n      defaultIsChecked,\n      accessibilityLabel,\n      accessibilityHint,\n    })\n  ) {\n    return null;\n  }\n  return (\n    <StyledNBSwitch\n      accessibilityLabel={accessibilityLabel}\n      accessibilityHint={accessibilityHint}\n      trackColor={{ false: offTrackColor, true: onTrackColor }}\n      thumbColor={checked ? onThumbColor : offThumbColor}\n      activeThumbColor={onThumbColor} // react-native-web prop for active thumbColor\n      ios_backgroundColor={offTrackColor}\n      {...resolvedProps}\n      disabled={isDisabled}\n      onValueChange={onToggle ? onToggle : state.toggle}\n      value={checked}\n      style={computedStyle}\n      ref={mergeRefs([ref, _ref])}\n      opacity={isDisabled ? 0.4 : 1}\n    />\n  );\n};\n\nexport default memo(forwardRef(Switch));\nexport type { ISwitchProps };\n"]},"metadata":{},"sourceType":"script"}